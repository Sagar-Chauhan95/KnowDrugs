import{a as k,b as z,c as j}from"./chunk-ORWJGCOU.js";import"./chunk-TYSRKM5B.js";import{c as B,d as U,e as A,f as $}from"./chunk-7DAXQFX5.js";import"./chunk-AZKZJRRS.js";import{b as N}from"./chunk-TEHJRAAM.js";import{a as I}from"./chunk-42T2NVKB.js";import{b as O,c as s,e as P,f as V,h as D,j as T,k as q,l as G,m as R}from"./chunk-LIAZ27XT.js";import"./chunk-JYTUQL2Z.js";import{a as w}from"./chunk-N2VS3P45.js";import{e as E}from"./chunk-G3XZPYES.js";import"./chunk-Q6FBKUVX.js";import"./chunk-WXI33M2S.js";import{Bb as _,Fb as y,Lb as l,Oa as M,Qb as C,Ra as u,d as p,da as m,db as S,e as g,f as h,fa as v,gc as F,lb as b,ta as x,tb as t,ub as i,vb as n}from"./chunk-BYU4RTY2.js";var le=(()=>{var r,d;let o=class o{constructor(){g(this,r);g(this,d);this.medicine_id=x.required(),this.medicationService=m(I),h(this,r,m(w)),h(this,d,m(E)),this.authService=m(N),this.$picture=S({filename:"",originalname:""}),this.form=m(G).nonNullable.group({name:["",s.required],generic_name:["",s.required],medication_class:["",s.required],availability:["",s.required],image:""}),F(()=>{this.medicationService.getMedicationById(this.medicine_id()).subscribe(e=>{e.success&&(this.name.patchValue(e.data.name),this.generic_name.patchValue(e.data.generic_name),this.availability.patchValue(e.data.availability),this.medication_class.patchValue(e.data.medication_class),this.$picture.set(e.data.image))})})}get name(){return this.form.controls.name}get generic_name(){return this.form.controls.generic_name}get medication_class(){return this.form.controls.medication_class}get availability(){return this.form.controls.availability}get image(){return this.form.controls.image}setFile(e){this.file=e.target.files[0]}submit(){let e=new FormData;e.append("name",this.name.value),e.append("generic_name",this.generic_name.value),e.append("medication_class",this.medication_class.value),e.append("availability",this.availability.value),e.append("medication_image",this.file),this.medicationService.updateMedicationById(this.medicine_id(),e).subscribe({next:a=>{a.data&&(p(this,r).success("Medication Successfully updated"),p(this,d).navigate(["","medicines"]))},error:a=>{p(this,r).error("Medication update Unsuccessfull")}})}};r=new WeakMap,d=new WeakMap,o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=v({type:o,selectors:[["app-update-medicine"]],inputs:{medicine_id:[1,"medicine_id"]},standalone:!0,features:[C],decls:23,vars:3,consts:[[1,"container"],[1,"title"],[1,"example-form",3,"ngSubmit","formGroup"],[1,"example-full-width"],["type","text","matInput","","formControlName","name","placeholder","Enter name of medicine"],["type","text","matInput","","formControlName","generic_name","placeholder","Enter generic name"],["type","text","matInput","","formControlName","medication_class","placeholder","Enter medication class"],["formControlName","availability"],["value","Prescription"],["value","OTC"],["alt","pic","width","100px","height","100px",2,"margin-left","300px","margin-right","-300px",3,"src"],["type","file","formControlName","image",1,"file",3,"change"],["type","submit",3,"disabled"]],template:function(a,c){a&1&&(t(0,"div",0)(1,"div",1),l(2,"Edit items to update"),i(),t(3,"form",2),_("ngSubmit",function(){return c.submit()}),t(4,"mat-form-field",3),n(5,"input",4),i(),t(6,"mat-form-field",3),n(7,"input",5),i(),n(8,"br"),t(9,"mat-form-field",3),n(10,"input",6),i(),t(11,"mat-radio-group",7),l(12," Availability Status "),t(13,"mat-radio-button",8),l(14,"Prescription"),i(),t(15,"mat-radio-button",9),l(16,"OTC"),i()(),n(17,"br")(18,"img",10),t(19,"input",11),_("change",function(J){return c.setFile(J)}),i(),n(20,"br"),t(21,"button",12),l(22,"submit"),i()()()),a&2&&(u(3),b("formGroup",c.form),u(15),y("src",c.$picture().originalname,M),u(3),b("disabled",c.form.invalid))},dependencies:[R,D,O,P,V,T,q,U,B,$,A,j,k,z],styles:[".container[_ngcontent-%COMP%]{width:900px;height:400px;padding:10px;border:1px solid;margin-left:20px;margin-top:20px;border-radius:8px;align-items:center;background-color:#cbdcf6}.title[_ngcontent-%COMP%]{color:brown}.file[_ngcontent-%COMP%]{margin-left:40%;margin-bottom:20px}.example-full-width[_ngcontent-%COMP%]{width:400px;padding:10px;color:brown}input[_ngcontent-%COMP%]{color:brown}button[_ngcontent-%COMP%]{margin-left:40%;width:120px;height:40px;font-size:16px;padding:4px;align-items:center;border-radius:5px;background-color:#0d6efd;color:#fff}"]});let f=o;return f})();export{le as UpdateMedicineComponent};
