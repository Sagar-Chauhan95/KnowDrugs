import{a as I}from"./chunk-VX6S6O3F.js";import{b as C,c as o,e as N,f as R,h as M,i as V,j as F,k as A,l as D,m as G}from"./chunk-LIAZ27XT.js";import{a as y}from"./chunk-N2VS3P45.js";import{e as S}from"./chunk-G3XZPYES.js";import"./chunk-Q6FBKUVX.js";import"./chunk-WXI33M2S.js";import{Bb as b,Lb as x,Qb as _,Ra as l,d as m,da as n,e as p,f as u,fa as g,lb as f,ta as c,tb as v,ub as h,vb as w}from"./chunk-BYU4RTY2.js";var z=(()=>{var t,r;let i=class i{constructor(){p(this,t);p(this,r);this.medicine_id=c(),this.review_id=c(),this.reviewService=n(I),u(this,t,n(y)),u(this,r,n(S)),this.form=n(D).nonNullable.group({review:["",o.required],rating:[0,[o.required,o.min(1),o.max(10)]]})}get review(){return this.form.controls.review}get rating(){return this.form.controls.rating}ngAfterViewInit(){this.reviewService.getReviewByMedicationIdAndReviewId(this.medicine_id(),this.review_id()).subscribe(e=>{e.success&&(this.review.patchValue(e.data.review),this.rating.patchValue(e.data.rating))})}submit(){this.reviewService.updateReviewById(this.medicine_id(),this.review_id(),this.form.value).subscribe(e=>{e.success&&(m(this,t).success("Review successfully Updated"),m(this,r).navigate(["","medicines","details",this.medicine_id(),"reviews"]))})}};t=new WeakMap,r=new WeakMap,i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=g({type:i,selectors:[["app-update-review"]],inputs:{medicine_id:[1,"medicine_id"],review_id:[1,"review_id"]},standalone:!0,features:[_],decls:8,vars:2,consts:[[1,"container"],[3,"ngSubmit","formGroup"],["type","text","formControlName","review","placeholder","Enter Review"],["type","number","formControlName","rating","placeholder","Enter rating from 0 - 10"],["type","submit",3,"disabled"]],template:function(a,d){a&1&&(v(0,"div",0)(1,"form",1),b("ngSubmit",function(){return d.submit()}),w(2,"input",2)(3,"br")(4,"input",3)(5,"br"),v(6,"button",4),x(7,"submit"),h()()()),a&2&&(l(),f("formGroup",d.form),l(5),f("disabled",d.form.invalid))},dependencies:[G,M,C,V,N,R,F,A],styles:[".container[_ngcontent-%COMP%]{width:400px;height:200px;border:1px solid;border-radius:8px;padding:10px;align-content:center;margin-left:30px;margin-top:30px}input[_ngcontent-%COMP%]{width:300px;height:30px;border-radius:5px;margin-left:15px;padding:5px;margin-bottom:10px}button[_ngcontent-%COMP%]{width:100px;height:35px;border-radius:8px;padding:5px;margin-left:33%;font-size:16px;background-color:#568de4;color:#fff}"]});let s=i;return s})();export{z as UpdateReviewComponent};
