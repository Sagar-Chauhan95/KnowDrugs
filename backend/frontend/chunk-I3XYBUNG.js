import{a as H,b as N,c as q,d as J,e as K,g as L,h as Q,j as U,k as W,l as X}from"./chunk-JTVTGPYP.js";import{a as Y}from"./chunk-VX6S6O3F.js";import{b as G}from"./chunk-TEHJRAAM.js";import{a as z}from"./chunk-42T2NVKB.js";import"./chunk-JYTUQL2Z.js";import{a as j}from"./chunk-N2VS3P45.js";import{e as D}from"./chunk-G3XZPYES.js";import"./chunk-Q6FBKUVX.js";import"./chunk-WXI33M2S.js";import{Bb as w,Cb as l,Lb as p,Mb as R,Nb as E,Ob as P,Qb as k,Ra as o,Sb as A,Ub as B,Vb as F,d as u,da as m,e as _,f as v,fa as h,gc as I,jb as S,lb as g,na as f,oa as x,pb as b,qc as V,rb as M,sb as y,sc as O,ta as C,tb as c,ub as a,vb as T,yb as $}from"./chunk-BYU4RTY2.js";var ee=(i,n)=>n._id,te=i=>({"background-color":i});function ie(i,n){if(i&1){let e=$();c(0,"mat-card-actions")(1,"button",4),w("click",function(){f(e);let d=l().$implicit,t=l();return x(t.edit(d._id))}),p(2,"edit"),a(),c(3,"button",4),w("click",function(){f(e);let d=l().$implicit,t=l();return x(t.delete(d._id))}),p(4,"delete"),a()()}}function ne(i,n){if(i&1&&(c(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),p(3),B(4,"date"),a()(),c(5,"mat-card-content")(6,"p"),p(7),a(),c(8,"div",2)(9,"p"),p(10),a(),T(11,"mat-progress-bar",3),a()(),S(12,ie,5,0,"mat-card-actions"),a()),i&2){let e=n.$implicit,r=n.$index,d=l();g("ngStyle",A(9,te,r%2===0?"#b4b4b4":"")),o(3),P(" ",e.by.fullname,"... \xA0 \xA0 \xA0\xA0 ",F(4,7,e.date)," "),o(4),R(e.review),o(3),E("",e.rating,"/10"),o(),g("value",e.rating*10),o(),b(d.authService.is_logged_in()&&d.authService.$state()._id===e.by.user_id?12:-1)}}var we=(()=>{var n,e;let r=class r{constructor(){_(this,n);_(this,e);this.medicine_id=C(),this.reviewService=m(Y),v(this,n,m(j)),this.medicationService=m(z),v(this,e,m(D)),this.authService=m(G),I(()=>{this.medicationService.$medications()})}ngAfterViewInit(){this.reviewService.getReviewByMedicationId(this.medicine_id()).subscribe(t=>{t.success&&this.reviewService.$reviews.set(t.data)})}edit(t){u(this,e).navigate(["","medicines","details",this.medicine_id(),"reviews","update",t])}delete(t){this.reviewService.deleteReviewById(this.medicine_id(),t).subscribe(s=>{s.data&&(u(this,n).success("Review successfully deleted"),u(this,e).navigate(["","medicines","details",this.medicine_id()]))})}};n=new WeakMap,e=new WeakMap,r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=h({type:r,selectors:[["app-reviews"]],inputs:{medicine_id:[1,"medicine_id"]},standalone:!0,features:[k],decls:3,vars:0,consts:[[1,"container"],[1,"example-card",3,"ngStyle"],[1,"bar-style"],["mode","determinate",1,"bar",3,"value"],["mat-button","",3,"click"]],template:function(s,Z){s&1&&(c(0,"div",0),M(1,ne,13,11,"mat-card",1,ee),a()),s&2&&(o(),y(Z.reviewService.$reviews()))},dependencies:[N,H,U,q,L,K,Q,J,V,O,X,W],styles:[".container[_ngcontent-%COMP%]{width:1000px;border-radius:8px;height:900px;margin-left:10%;margin-top:20px;padding:15px}.example-card[_ngcontent-%COMP%]{width:730px;padding:10px;border-radius:15px;margin-bottom:10px}.bar[_ngcontent-%COMP%]{width:100px}.bar-style[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:flex-start;align-content:center;align-items:center}mat-card-title[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:20px;font-weight:100;margin-bottom:20px}"]});let i=r;return i})();export{we as ReviewsComponent};
